#!/bin/bash
echo "Starting as_studio server..."
docker exec -d victim python /app/victim.py

sleep 10  # Allow time for the server to start

echo "Starting rpc_agent..."
docker exec -d rpc_agent python /app/rpc_agent.py

sleep 10  # Allow time for rpc_agent to start

echo "Launching attacker script..."
docker exec attacker python -u /app/attack.py || echo "ðŸš¨ ERROR: Attack script did not run!"

# echo "Following logs from all containers..."
# docker logs -f victim &
# docker logs -f rpc_agent &
# docker logs -f attacker &
# wait  # Ensures all log streaming remains visible in your terminal