#!/bin/bash
# echo "[*] Launching victim script..."
# docker exec victim python victim.py
# sleep 3 # victim inits

# echo "[*] Launching attacker script..."
# docker exec -d attacker python attacker.py

#!/bin/bash
echo "[*] Checking if containers are running..."
docker ps

echo "[*] Launching victim script..."
docker exec victim python victim.py &

echo "[*] Waiting for victim to initialize..."
sleep 5  # 给 victim 一些时间启动服务

echo "[*] Testing container connectivity..."
docker exec victim python -c "import socket; s=socket.socket(); s.connect(('attacker', 29000))" 2>/dev/null && echo "Connection successful" || echo "Connection failed"

echo "[*] Checking victim logs..."
docker logs victim

echo "[*] Launching attacker script..."
docker exec attacker python attacker.py