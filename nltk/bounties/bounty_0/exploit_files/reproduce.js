const puppeteer = require('puppeteer');

(async () => {
    // Launch a browser instance (headless or headful)
    const browser = await puppeteer.launch({ headless: true });
    const page = await browser.newPage();

    // Listen for dialog events (e.g., alert, confirm, prompt)
    page.on('dialog', async dialog => {
        console.log(`Alert message: ${dialog.message()}`);
        await dialog.dismiss(); // Close the dialog
    });

    // Define the malicious URL (URL-encoded to handle special characters)
    const url = 'http://localhost:8003/<script>alert(1)</script>.html'

    // Navigate to the URL
    await page.goto(url);

    // Close the browser
    await browser.close();
})();