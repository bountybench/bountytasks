(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4978],{55126:function(e,t,l){Promise.resolve().then(l.bind(l,81722))},81722:function(e,t,l){"use strict";l.d(t,{default:function(){return u}});var s=l(57437),a=l(39343),i=l(2265),n=l(6920),o=l(45079);l(74590);var r=l(58064),c=(0,r.$)("99e4d893df4572e2ab8d40e6e7296082b6140489"),d=(0,r.$)("0deb903eb38e4e2f1360235a85df5a563c387d7d"),h=l(48274),x=l(65354),u=e=>{var t;let{initialQuery:l}=e,{register:r,handleSubmit:u,watch:m,formState:{isSubmitting:p}}=(0,a.cI)(),[v,f]=(0,i.useState)(l),[w,g]=(0,i.useState)([]),[y,j]=(0,i.useState)([]),[N,b]=(0,i.useState)((null==y?void 0:y.length)===0),[k,C]=(0,i.useState)(!0),[S,E]=(0,i.useState)(!1),[F,_]=(0,i.useState)(),T=m("search"),L=m("titleFilter"),M=m("languageFilter");(0,i.useEffect)(()=>{var e,t,l;let s=null!==(t=null==v?void 0:null===(e=v.items)||void 0===e?void 0:e.filter(e=>null!==e&&!0===e.visible))&&void 0!==t?t:[],a=new Set;s=s.filter(e=>!a.has(e.id)&&(a.add(e.id),!0)),y.length>0&&(s=y);let i=null!==(l=null==F?void 0:F.toLowerCase())&&void 0!==l?l:"";(null==M?void 0:M.length)&&(s=null==s?void 0:s.filter(e=>e.repository.language.toLowerCase()===i)),(null==L?void 0:L.length)&&(s=null==s?void 0:s.filter(e=>{var t;return null===(t=(0,x.m)(e))||void 0===t?void 0:t.toLowerCase().includes(i)})),g(s)},[F,null==M?void 0:M.length,null==L?void 0:L.length,y,v]),(0,i.useEffect)(()=>{w&&C(!1)},[w]),(0,i.useEffect)(()=>{(null==M?void 0:M.length)?_(M):_(L)},[M,L]);let O=async()=>{if(E(!0),null==v?void 0:v.nextToken){let{query:e}=await c(null==v?void 0:v.nextToken);f({items:[...v.items?v.items:[],...(null==e?void 0:e.items)?e.items:[]],nextToken:null==e?void 0:e.nextToken})}E(!1)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row",children:[(0,s.jsxs)("div",{className:"relative flex w-full flex-col sm:w-1/2",children:[(0,s.jsx)("span",{className:"pointer-events-none absolute right-6",style:{top:"9px"},children:p?(0,s.jsxs)("svg",{className:"h-5 w-5 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,s.jsx)(n.G,{icon:o.wn1,className:"text-white"})}),(0,s.jsx)("input",{id:"search-hacktivity",defaultValue:"",...r("search",{onChange:e=>{var t,l;y&&"".concat(null===(t=y[0])||void 0===t?void 0:t.repository.owner,"/").concat(null===(l=y[0])||void 0===l?void 0:l.repository.name)!==e.target.value&&(j([]),b(!1))}}),onKeyUp:e=>{"Enter"===e.key&&u(async e=>{var t;let[l,s]=(null==e?void 0:null===(t=e.search)||void 0===t?void 0:t.split("/"))||[void 0,void 0];if(l&&s){let e=await d(l,s);j(e),0===e.length&&b(!0)}})()},autoComplete:"off",type:"text",name:"search",className:"rounded border-0 bg-space text-white placeholder-white placeholder-opacity-20",placeholder:"Search for repo (eg vim/vim)"}),(null==T?void 0:T.length)!==void 0&&T.length>0&&(0,s.jsx)("span",{children:p||N||(null==y?void 0:y.length)!==0?T.includes("/")?!p&&N?(0,s.jsxs)("span",{className:"ml-auto mr-4 mt-1 text-xs text-white text-opacity-30",children:[(0,s.jsxs)("span",{className:"text-white text-opacity-100",children:[" ","no results"," "]})," ","for"," ".concat(T," :(")]}):!p&&!N&&(null==y?void 0:y.length)!==void 0&&y.length>0&&(0,s.jsxs)("span",{className:"ml-auto mr-4 mt-1 text-xs text-white text-opacity-30",children:["found",(0,s.jsx)("span",{className:"mx-0.5 text-white text-opacity-100",children:y.length}),"reports for",(0,s.jsx)("span",{className:"ml-0.5 text-white text-opacity-100",children:T})]}):(0,s.jsxs)("span",{className:"ml-auto mr-4 mt-1 text-xs text-white text-opacity-30",children:[(0,s.jsx)("span",{className:"mx-0.5 text-white text-opacity-100",children:T}),"is not a repo; Please format your search as such:",(0,s.jsx)("span",{className:"ml-0.5 text-white text-opacity-100",children:"repoOwner/repoName"}),"(eg: vim/vim)"]}):(0,s.jsxs)("span",{className:"ml-auto mr-4 mt-1 text-xs text-white text-opacity-30",children:["press",(0,s.jsx)("span",{className:"mx-1 text-white text-opacity-100",children:"Enter â†µ"}),"to search"]})})]}),(0,s.jsxs)("div",{className:"relative mt-4 w-full sm:ml-4 sm:mt-0 sm:w-1/2",children:[(0,s.jsxs)("div",{className:"flex flex-row",children:[!(null==L?void 0:L.length)&&(0,s.jsx)("input",{id:"filter-language",...r("languageFilter"),autoComplete:"off",type:"text",className:"mr-4 w-full rounded border-0 bg-space text-white placeholder-white placeholder-opacity-20",placeholder:"Filter by language"}),!(null==M?void 0:M.length)&&(0,s.jsx)("input",{id:"filter-title",defaultValue:"",...r("titleFilter"),autoComplete:"off",type:"text",className:"w-full rounded border-0 bg-space text-white placeholder-white placeholder-opacity-20",placeholder:"Filter by title substring"})]}),F&&F.length>0&&(0,s.jsxs)("span",{className:"ml-auto mr-4 mt-1 text-xs text-white text-opacity-30",children:["scanned",(0,s.jsx)("span",{className:"mx-0.5 text-white text-opacity-100",children:null==v?void 0:null===(t=v.items)||void 0===t?void 0:t.length}),"reports for",(0,s.jsx)("span",{className:"ml-0.5 text-white text-opacity-100",children:F}),". Press",(0,s.jsx)("button",{className:"mx-0.5 inline-block w-24 rounded bg-brick py-0.5 text-center font-medium text-white text-opacity-100 hover:bg-tang",onClick:O,children:S?(0,s.jsx)(n.G,{icon:o.IJ7,className:"animate-spin text-white"}):(0,s.jsx)("span",{children:"Show more"})}),"to expand search."]})]})]}),(0,s.jsx)(h.Z,{showSkeleton:k,showMore:!!((null==v?void 0:v.nextToken)&&0===y.length),fetchMore:O,isLoading:S,vulnerabilities:w})]})}}},function(e){e.O(0,[3676,231,6920,8173,4169,3265,9343,8274,2971,7023,1744],function(){return e(e.s=55126)}),_N_E=e.O()}]);