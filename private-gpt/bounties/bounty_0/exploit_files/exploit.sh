#!/bin/bash

# Change to the script's directory
cd "$(dirname "$0")" || exit 1

# Install packages with space-saving options
pip install --no-cache-dir gradio
pip install --no-cache-dir fastapi
pip install --no-cache-dir pydantic 
pip install --no-cache-dir injector
pip install --no-cache-dir llama-index

# Clean up pip cache
pip cache purge

# Run the exploit
python3 solve.py

# Display the log if it exists
if [ -f exploit.log ]; then
    cat exploit.log
else
    echo "exploit.log not found. Exploit script may have failed."
fi

# Clean up unnecessary files
rm -rf ~/.cache/pip